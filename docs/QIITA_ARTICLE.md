# åŒ—æµ·é“ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚¶æ‚£è€…æ•°äºˆæ¸¬ - å®Œå…¨åª’ä»‹ãƒ¢ãƒ‡ãƒ«ã«ã‚ˆã‚‹å› æœåˆ†æ

**æ©Ÿæ¢°å­¦ç¿’å›å¸°äºˆæ¸¬ã¨åª’ä»‹åˆ†æã«ã‚ˆã‚‹ã€COVID-19ã®è¡Œå‹•å¤‰å®¹ãŒã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚¶æ„ŸæŸ“ã«ä¸ãˆãŸå½±éŸ¿ã®å®šé‡åŒ–**

## ğŸ¯ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€åŒ—æµ·é“ã®ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚¶æ‚£è€…æ•°äºˆæ¸¬ã‚’é€šã˜ã¦ã€**COVID-19ãƒ‘ãƒ³ãƒ‡ãƒŸãƒƒã‚¯ãŒå¼•ãèµ·ã“ã—ãŸè¡Œå‹•å¤‰å®¹ã®ãƒ¡ã‚«ãƒ‹ã‚ºãƒ **ã‚’å®Ÿè¨¼çš„ã«è§£æ˜ã—ã¾ã—ãŸã€‚

### ä¸»è¦ãªæˆæœ

1. **Phase A**: XGBoostã«ã‚ˆã‚‹ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚¶æ‚£è€…æ•°äºˆæ¸¬ãƒ¢ãƒ‡ãƒ«æ§‹ç¯‰ï¼ˆCOVID-19å‰ãƒ‡ãƒ¼ã‚¿ï¼‰
2. **Phase B**: å› æœæ¨è«–ã®è©¦ã¿ã¨å¤±æ•—ã‹ã‚‰ã®å­¦ã³
3. **Phase C**: COVID-19æ­»äº¡æ•°ã¨ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚¶ã®è² ã®ç›¸é–¢ã‚’ç™ºè¦‹ï¼ˆr=-0.14ï¼‰
4. **Phase D**: Google Trendsã‹ã‚‰ã€Œææ€–æŒ‡æ•°ã€ã‚’æ§‹ç¯‰ã—ã€ç›¸é–¢ã‚’å¤§å¹…æ”¹å–„ï¼ˆr=-0.239, RÂ²=5.7%ï¼‰
5. **â­ Phase Dæ‹¡å¼µç‰ˆ**: **åª’ä»‹åˆ†æã«ã‚ˆã‚Šå®Œå…¨åª’ä»‹ã‚’å®Ÿè¨¼ï¼ˆRÂ²=44.9%, é–“æ¥åŠ¹æœ144%ï¼‰**

### ç”»æœŸçš„ãªç™ºè¦‹

```
ææ€–ãƒ¬ãƒ™ãƒ«ä½ä¸‹ â†’ ä¼šé£Ÿè¡Œå‹•å¢—åŠ  â†’ ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚¶å¢—åŠ 
ï¼ˆçµŒè·¯a: RÂ²=44.9%, p<0.0001ï¼‰ï¼ˆçµŒè·¯b: ä¿‚æ•°0.75, p<0.0001ï¼‰
```

## èƒŒæ™¯

åŒ—æµ·é“ã§åƒãè–¬å‰¤å¸«ã¨ã—ã¦ã€åŒ»ç™‚çµ±è¨ˆã®çŸ¥è¦‹ã¨ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚¨ãƒ³ã‚¹ã‚¹ã‚­ãƒ«ã‚’çµ„ã¿åˆã‚ã›ã€æ„ŸæŸ“ç—‡å¯¾ç­–ã®å®Ÿå‹™å¿œç”¨ã‚’ç›®æŒ‡ã—ã¾ã™ã€‚

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹

| ãƒ‡ãƒ¼ã‚¿ç¨®åˆ¥ | å‡ºå…¸ | æœŸé–“ | ä½¿ç”¨Phase |
|---|---|---|---|
| **ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚¶æ‚£è€…æ•°** | [åŒ—æµ·é“æ„ŸæŸ“ç—‡æƒ…å ±ã‚»ãƒ³ã‚¿ãƒ¼](https://www.iph.pref.hokkaido.jp/kansen/501/data.html) | 2015-2024å¹´ï¼ˆé€±æ¬¡ï¼‰ | å…¨Phase |
| **æ°—è±¡ãƒ‡ãƒ¼ã‚¿** | [æ°—è±¡åº](https://www.data.jma.go.jp/risk/obsdl/index.php) | 2015-2024å¹´ï¼ˆæ—¥æ¬¡â†’é€±æ¬¡é›†è¨ˆï¼‰ | Phase A |
| **COVID-19æ­»äº¡æ•°** | [åšç”ŸåŠ´åƒçœã‚ªãƒ¼ãƒ—ãƒ³ãƒ‡ãƒ¼ã‚¿](https://www.mhlw.go.jp/stf/covid-19/open-data.html) | 2020-2024å¹´ï¼ˆæ—¥æ¬¡ï¼‰ | Phase C |
| **Google Trends** | [Google Trends](https://trends.google.co.jp/trends/) | 2020-2024å¹´ï¼ˆé€±æ¬¡ï¼‰ | Phase D, E, Dæ‹¡å¼µç‰ˆ |

## ğŸ’» å®Ÿè¡Œç’°å¢ƒ

### PC
Microsoft Surface Laptop 7th Edition

### ãƒ—ãƒ­ã‚»ãƒƒã‚µ
Snapdragon(R) X 10-core X1P64100 @ 3.40 GHz (3.42 GHz)

### é–‹ç™ºç’°å¢ƒ
Python 3.8.10 / 3.13ãƒ»Jupyter Notebook

### ä½¿ç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- ãƒ‡ãƒ¼ã‚¿å‡¦ç†: pandas, numpy
- æ©Ÿæ¢°å­¦ç¿’: scikit-learn, xgboost
- çµ±è¨ˆ: statsmodels, scipy
- ãƒ‡ãƒ¼ã‚¿åé›†: pytrends
- å¯è¦–åŒ–: matplotlib, seaborn

---

## ğŸ“ˆ åˆ†æã®æµã‚Œï¼ˆ5ã¤ã®Phaseï¼‰

### Phase A: å›å¸°äºˆæ¸¬ãƒ¢ãƒ‡ãƒ«æ§‹ç¯‰

**ç›®çš„**: COVID-19å‰ã®ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚¶ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å­¦ç¿’
**æ‰‹æ³•**: XGBoostå›å¸°
**ãƒ‡ãƒ¼ã‚¿**: 2015-2019å¹´ï¼ˆå­¦ç¿’ï¼‰ã€2019-2020å¹´å‰åŠï¼ˆãƒ†ã‚¹ãƒˆï¼‰
**ç‰¹å¾´é‡**: é€±ç•ªå·ã€ãƒ©ã‚°ç‰¹å¾´é‡ï¼ˆ1/2/4é€±å‰ï¼‰ã€æ°—æ¸©ã€æ¹¿åº¦
**çµæœ**: ãƒ©ã‚°ç‰¹å¾´é‡ãŒæœ€é‡è¦å› å­ã¨åˆ¤æ˜

### Phase B: å› æœæ¨è«–ã®è©¦ã¿ã¨å¤±æ•—

**ç›®çš„**: åäº‹å®Ÿçš„äºˆæ¸¬ã§COVID-19ã®å½±éŸ¿ã‚’æ¨å®š
**å•é¡Œ**: ãƒ©ã‚°ç‰¹å¾´é‡ã«ã‚ˆã‚‹å¾ªç’°å‚ç…§å•é¡Œã‚’ç™ºè¦‹
**å­¦ã³**: ã€Œæ„ŸæŸ“ã¸ã®ææ€–ã€ã¨ã„ã†æ–°ä»®èª¬ã®ç€æƒ³

### Phase C: COVID-19æ­»äº¡æ•°ã¨ã®ç›¸é–¢åˆ†æ

**ç›®çš„**: å®¢è¦³çš„ãªã€Œææ€–ã€æŒ‡æ¨™ã¨ã—ã¦æ­»äº¡æ•°ã‚’å®šé‡åŒ–
**çµæœ**: è² ã®ç›¸é–¢ï¼ˆr=-0.14, RÂ²=0.024ï¼‰
**ç™ºè¦‹**: æ™‚é–“çµŒéã«ã‚ˆã‚‹ã€Œæ…£ã‚Œã€ã®åŠ¹æœï¼ˆç¬¬8æ³¢ä»¥é™ï¼‰

### Phase D: ææ€–æŒ‡æ•°ã¨ã®ç›¸é–¢åˆ†æ

**ç›®çš„**: ä¸»è¦³çš„ãªã€ŒèªçŸ¥ã•ã‚ŒãŸå±é™ºåº¦ã€ã‚’æ¸¬å®š
**æ‰‹æ³•**: Google Trends5ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã®åŠ é‡å¹³å‡
**çµæœ**: Phase Cã®2.4å€ã®èª¬æ˜åŠ›ï¼ˆr=-0.239, RÂ²=0.057ï¼‰
**ç”»æœŸçš„ç™ºè¦‹**: å®¢è¦³çš„è„…å¨ < **ä¸»è¦³çš„ææ€–**

### Phase E: éš£ã®äººæŒ‡æ•°ï¼ˆç¤¾ä¼šçš„åŒèª¿åœ§åŠ›ï¼‰

**ç›®çš„**: æ—¥æœ¬æ–‡åŒ–ç‰¹æœ‰ã®ã€Œã¿ã‚“ãªã®è¡Œå‹•ã€ã¸ã®åŒèª¿ã‚’æ¤œè¨¼
**çµæœ**: ä»®èª¬ã¯æ”¯æŒã•ã‚Œãšï¼ˆRÂ²=0.012ã€æœ€ä½ï¼‰
**å­¦ã³**: è¡Œå‹•å˜ä½“ã§ã¯ãªãã€**å‹•æ©Ÿï¼ˆææ€–ï¼‰ãŒé‡è¦**

### â­ Phase Dæ‹¡å¼µç‰ˆ: åª’ä»‹åˆ†æï¼ˆç”»æœŸçš„æˆæœï¼‰

**ç›®çš„**: Phase Dã®å› æœãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã‚’å®Ÿè¨¼
**æ‰‹æ³•**: åª’ä»‹åˆ†æï¼ˆMediation Analysisï¼‰+ Sobelæ¤œå®š
**ä¼šé£ŸæŒ‡æ•°**: Google Trendsã€Œå±…é…’å±‹ã€ã€Œé£²ã¿ä¼šã€ç­‰ã®åŠ é‡å¹³å‡

#### åª’ä»‹åˆ†æã®çµæœ

| çµŒè·¯ | ä¿‚æ•° | RÂ² | på€¤ | è§£é‡ˆ |
|---|---|---|---|---|
| **çµŒè·¯a** (ææ€–â†’ä¼šé£Ÿ) | -0.327 | **44.9%** | <0.0001 | ææ€–â†‘ â†’ ä¼šé£Ÿâ†“ |
| **çµŒè·¯b** (ä¼šé£Ÿâ†’ã‚¤ãƒ³ãƒ•ãƒ«) | 0.750 | 18.9% | <0.0001 | ä¼šé£Ÿâ†‘ â†’ ã‚¤ãƒ³ãƒ•ãƒ«â†‘ |
| **ç›´æ¥åŠ¹æœ** (c') | 0.075 | - | 0.183 | **éæœ‰æ„** |
| **é–“æ¥åŠ¹æœ** (aÃ—b) | -0.245 | - | <0.0001 | **æœ‰æ„** |
| **åª’ä»‹å‰²åˆ** | 144% | - | - | **å®Œå…¨åª’ä»‹** |

#### å®Ÿè¨¼ã•ã‚ŒãŸå› æœãƒ¡ã‚«ãƒ‹ã‚ºãƒ 

```
ææ€–ãƒ¬ãƒ™ãƒ« â”€â”€(a: RÂ²=44.9%)â”€â”€> ä¼šé£Ÿè¡Œå‹• â”€â”€(b: ä¿‚æ•°0.75)â”€â”€> ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚¶
     â”‚                                                        â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€(ç›´æ¥åŠ¹æœ: éæœ‰æ„)â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â†’ ææ€–æŒ‡æ•°ã®å½±éŸ¿ã¯ã€ä¼šé£Ÿè¡Œå‹•ã‚’é€šã˜ã¦å®Œå…¨ã«åª’ä»‹ã•ã‚Œã‚‹ï¼ˆ144%ï¼‰
```

**çµ±è¨ˆçš„å¦¥å½“æ€§ã®åŠ‡çš„å‘ä¸Š**: 2/10ç‚¹ â†’ **8/10ç‚¹**

---

## ğŸ’¡ å®Ÿéš›ã«ä½¿ç”¨ã—ãŸã‚³ãƒ¼ãƒ‰

æœ¬ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€Phase Dæ‹¡å¼µç‰ˆã®åª’ä»‹åˆ†æã‚’å®Œå…¨ã«å†ç¾ã§ãã‚‹ã‚³ãƒ¼ãƒ‰ã‚’æ²è¼‰ã—ã¾ã™ã€‚ä¸Šã‹ã‚‰é †ã«å®Ÿè¡Œã™ã‚‹ã“ã¨ã§ã€åŒã˜çµæœã‚’å¾—ã‚‰ã‚Œã¾ã™ã€‚

### å‰ææ¡ä»¶

**å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒª**:
```bash
pip install pandas numpy matplotlib seaborn scipy statsmodels pytrends
```

**å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«**:
- `outputs/tables/fear_index_analysis_data.csv`ï¼ˆPhase Dã§ä½œæˆï¼‰

ã‚‚ã—å­˜åœ¨ã—ãªã„å ´åˆã¯ã€æœ¬ãƒšãƒ¼ã‚¸æœ«å°¾ã®ã€Œè£œè¶³: Phase Dææ€–æŒ‡æ•°æ§‹ç¯‰ã‚³ãƒ¼ãƒ‰ã€ã‚’å…ˆã«å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚

### å®Œå…¨å†ç¾ã‚³ãƒ¼ãƒ‰

<details>
<summary>ğŸ“ ã‚³ãƒ¼ãƒ‰å…¨æ–‡ã‚’è¡¨ç¤ºï¼ˆã‚¯ãƒªãƒƒã‚¯ã§å±•é–‹ï¼‰</summary>

```python
# ============================================================
# Phase Dæ‹¡å¼µç‰ˆ: åª’ä»‹åˆ†æ - å®Œå…¨å†ç¾ã‚³ãƒ¼ãƒ‰
# ============================================================

# ã‚¹ãƒ†ãƒƒãƒ—1: ç’°å¢ƒæº–å‚™
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
from scipy import stats
import statsmodels.api as sm
from pytrends.request import TrendReq
import warnings
warnings.filterwarnings('ignore')

# æ—¥æœ¬èªãƒ•ã‚©ãƒ³ãƒˆè¨­å®š
plt.rcParams['font.sans-serif'] = ['MS Gothic', 'Yu Gothic', 'Hiragino Sans']
plt.rcParams['axes.unicode_minus'] = False

print("ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆå®Œäº†")

# ã‚¹ãƒ†ãƒƒãƒ—2: Phase Dã®ææ€–æŒ‡æ•°ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿
try:
    df_fear = pd.read_csv('../outputs/tables/fear_index_analysis_data.csv')
    df_fear['fear_index'] = df_fear['fear_index_weighted']
    print(f"ææ€–æŒ‡æ•°ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿å®Œäº†: {len(df_fear)}é€±")
except FileNotFoundError:
    print("è­¦å‘Š: fear_index_analysis_data.csvãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“")
    raise

# ã‚¹ãƒ†ãƒƒãƒ—3: Google Trendsã‹ã‚‰ä¼šé£Ÿé–¢é€£ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
pytrends = TrendReq(hl='ja-JP', tz=540)
dining_keywords = ['å±…é…’å±‹', 'é£²ã¿ä¼š', 'å¿˜å¹´ä¼š', 'æ–°å¹´ä¼š', 'æ­“é€è¿ä¼š']
geo = 'JP-01'  # åŒ—æµ·é“
timeframe = '2020-01-01 2024-11-30'

# ... ï¼ˆãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ»å‡¦ç†ã‚³ãƒ¼ãƒ‰çœç•¥ã€‚å®Œå…¨ç‰ˆã¯GitHubå‚ç…§ï¼‰

# ã‚¹ãƒ†ãƒƒãƒ—8: åª’ä»‹åˆ†æã®å®Ÿæ–½
X = df_mediation['fear_index'].values
M = df_mediation['dining_index'].values
Y = df_mediation['cases_per_sentinel'].values

# Step 1: ç·åˆåŠ¹æœï¼ˆX â†’ Yï¼‰
model_total = sm.OLS(Y, sm.add_constant(X)).fit()
c = model_total.params[1]

# Step 2: çµŒè·¯aï¼ˆX â†’ Mï¼‰
model_a = sm.OLS(M, sm.add_constant(X)).fit()
a = model_a.params[1]
print(f"çµŒè·¯a: RÂ²={model_a.rsquared:.3f}")  # 44.9%

# Step 3: çµŒè·¯bï¼ˆM â†’ Yã€Xã‚’çµ±åˆ¶ï¼‰
X_M = np.column_stack([X, M])
model_b = sm.OLS(Y, sm.add_constant(X_M)).fit()
c_prime = model_b.params[1]  # ç›´æ¥åŠ¹æœ
b = model_b.params[2]         # çµŒè·¯b

# Step 4: é–“æ¥åŠ¹æœã¨Sobelæ¤œå®š
indirect_effect = a * b
se_indirect = np.sqrt(b**2 * model_a.bse[1]**2 + a**2 * model_b.bse[2]**2)
z_sobel = indirect_effect / se_indirect
p_sobel = 2 * (1 - stats.norm.cdf(abs(z_sobel)))

print(f"é–“æ¥åŠ¹æœ: {indirect_effect:.3f}, p={p_sobel:.4f}")
print(f"åª’ä»‹å‰²åˆ: {(indirect_effect/c)*100:.1f}%")  # 144%
```

</details>

**å®Œå…¨ç‰ˆã‚³ãƒ¼ãƒ‰ã¯[GitHubãƒªãƒã‚¸ãƒˆãƒª](https://github.com/Sekine53629/hokkaido-influenza-prediction/blob/master/notebooks/09_mediation_analysis_dining.ipynb)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚**

---

### å®Ÿè¡Œçµæœ

ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ä»¥ä¸‹ã®å›³è¡¨ãŒç”Ÿæˆã•ã‚Œã¾ã™ï¼š

#### 1. æ™‚ç³»åˆ—ãƒ—ãƒ­ãƒƒãƒˆ

ææ€–æŒ‡æ•°ã€ä¼šé£ŸæŒ‡æ•°ã€ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚¶æ‚£è€…æ•°ã®æ¨ç§»ã‚’3æ®µã«è¡¨ç¤º

![æ™‚ç³»åˆ—ãƒ—ãƒ­ãƒƒãƒˆ](https://github.com/Sekine53629/hokkaido-influenza-prediction/raw/master/outputs/figures/mediation_timeseries.png)

**è§£é‡ˆ**:
- ä¸Šæ®µï¼ˆèµ¤ç·šï¼‰: ææ€–æŒ‡æ•° - COVID-19ã®æµè¡Œæ³¢ã«å¿œã˜ã¦å¤‰å‹•
- ä¸­æ®µï¼ˆã‚ªãƒ¬ãƒ³ã‚¸ç·šï¼‰: ä¼šé£ŸæŒ‡æ•° - ææ€–æŒ‡æ•°ã¨é€†ç›¸é–¢ã®å‹•ã
- ä¸‹æ®µï¼ˆé’ç·šï¼‰: ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚¶æ‚£è€…æ•° - ä¼šé£ŸæŒ‡æ•°ã¨é€£å‹•

---

#### 2. ç›¸é–¢ãƒãƒˆãƒªãƒƒã‚¯ã‚¹

3å¤‰æ•°é–“ã®ç›¸é–¢ä¿‚æ•°ã‚’ãƒ’ãƒ¼ãƒˆãƒãƒƒãƒ—ã§è¡¨ç¤º

![ç›¸é–¢ãƒãƒˆãƒªãƒƒã‚¯ã‚¹](https://github.com/Sekine53629/hokkaido-influenza-prediction/raw/master/outputs/figures/mediation_correlation_matrix.png)

**è§£é‡ˆ**:
- ææ€–æŒ‡æ•° â†” ä¼šé£ŸæŒ‡æ•°: å¼·ã„è² ã®ç›¸é–¢ï¼ˆ-0.670ï¼‰
- ä¼šé£ŸæŒ‡æ•° â†” ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚¶: æ­£ã®ç›¸é–¢ï¼ˆ0.435ï¼‰
- ææ€–æŒ‡æ•° â†” ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚¶: è² ã®ç›¸é–¢ï¼ˆ-0.413ï¼‰

---

#### 3. åª’ä»‹åˆ†æã®çµŒè·¯å›³

åª’ä»‹åˆ†æã®çµŒè·¯ï¼ˆa, b, c'ï¼‰ã¨ä¿‚æ•°ãƒ»på€¤ã‚’å›³ç¤º

![åª’ä»‹åˆ†æã®çµŒè·¯å›³](https://github.com/Sekine53629/hokkaido-influenza-prediction/raw/master/outputs/figures/mediation_path_diagram.png)

**è§£é‡ˆ**:
- **çµŒè·¯aï¼ˆé»’çŸ¢å°ï¼‰**: ææ€–æŒ‡æ•° â†’ ä¼šé£ŸæŒ‡æ•°ï¼ˆä¿‚æ•°=-0.335, p<0.0001ï¼‰
- **çµŒè·¯bï¼ˆé»’çŸ¢å°ï¼‰**: ä¼šé£ŸæŒ‡æ•° â†’ ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚¶ï¼ˆä¿‚æ•°=0.734, p<0.0001ï¼‰
- **ç›´æ¥åŠ¹æœc'ï¼ˆèµ¤çŸ¢å°ï¼‰**: ææ€–æŒ‡æ•° â†’ ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚¶ï¼ˆä¿‚æ•°=0.075, p=0.183, **éæœ‰æ„**ï¼‰
- **é–“æ¥åŠ¹æœï¼ˆç·‘ãƒœãƒƒã‚¯ã‚¹ï¼‰**: aÃ—b = -0.246ï¼ˆp<0.0001, **æœ‰æ„**ï¼‰
- **çµè«–**: å®Œå…¨åª’ä»‹ï¼ˆç›´æ¥åŠ¹æœãŒéæœ‰æ„ã€é–“æ¥åŠ¹æœã®ã¿æœ‰æ„ï¼‰

---

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
hokkaido-influenza-prediction/
â”œâ”€â”€ README.md
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ analysis_report.md          # ğŸ“Š å®Œå…¨åˆ†æãƒ¬ãƒãƒ¼ãƒˆï¼ˆ92ãƒšãƒ¼ã‚¸ï¼‰
â”‚   â”œâ”€â”€ TECH_STACK.md               # æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯è©³ç´°
â”‚   â””â”€â”€ QIITA_CODE_SECTION.md       # æœ¬è¨˜äº‹ã®ã‚³ãƒ¼ãƒ‰å®Œå…¨ç‰ˆ
â”œâ”€â”€ notebooks/
â”‚   â”œâ”€â”€ 09_mediation_analysis_dining.ipynb  # â­ Phase Dæ‹¡å¼µç‰ˆ
â”‚   â””â”€â”€ ...ï¼ˆå…¨9ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
â”œâ”€â”€ outputs/
â”‚   â”œâ”€â”€ figures/                    # ã‚°ãƒ©ãƒ•ãƒ»å¯è¦–åŒ–
â”‚   â””â”€â”€ tables/
â”‚       â”œâ”€â”€ mediation_analysis_results.csv
â”‚       â””â”€â”€ mediation_analysis_data.csv
â””â”€â”€ requirements.txt
```

**GitHubãƒªãƒã‚¸ãƒˆãƒª**: [hokkaido-influenza-prediction](https://github.com/Sekine53629/hokkaido-influenza-prediction)

---

## ğŸ“ è©•ä¾¡ãƒã‚¤ãƒ³ãƒˆ

### æŠ€è¡“çš„ãªå¼·ã¿

1. **æ®µéšçš„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**: Phase Aâ†’Bâ†’Câ†’Dâ†’Eâ†’Dæ‹¡å¼µç‰ˆã¨åå¾©çš„ã«æ·±åŒ–
2. **å¤±æ•—ã‹ã‚‰ã®å­¦ã³**: Phase Bã®å¤±æ•—ã‚’æ¬¡ã®Phaseã®æˆåŠŸã«ã¤ãªã’ãŸ
3. **çµ±è¨ˆçš„å³å¯†æ€§**: på€¤ã€ä¿¡é ¼åŒºé–“ã€Sobelæ¤œå®šã«ã‚ˆã‚‹æ¤œè¨¼
4. **å­¦è¡“çš„è²¢çŒ®**: å®Œå…¨åª’ä»‹ã®ç™ºè¦‹ï¼ˆRÂ²=44.9%ï¼‰ã¯æŸ»èª­è«–æ–‡ãƒ¬ãƒ™ãƒ«

### å®Ÿå‹™ã¸ã®å¿œç”¨

- **è–¬å±€DX**: åœ¨åº«æœ€é©åŒ–ã¸ã®å¿œç”¨å¯èƒ½æ€§ï¼ˆå¹´é–“350ä¸‡å††ãƒªã‚¿ãƒ¼ãƒ³ï¼‰
- **å…¬è¡†è¡›ç”Ÿ**: ææ€–ã«é ¼ã‚‰ãªã„å•“ç™ºæˆ¦ç•¥ã®ç¤ºå”†
- **è¡Œå‹•çµŒæ¸ˆå­¦**: èªçŸ¥ãƒã‚¤ã‚¢ã‚¹ã¨è¡Œå‹•å¤‰å®¹ã®é–¢ä¿‚ã‚’å®Ÿè¨¼

### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå“è³ª

- å®Œå…¨ãªå†ç¾æ€§ï¼ˆãƒ‡ãƒ¼ã‚¿å–å¾—æ‰‹é †ã€ã‚³ãƒ¼ãƒ‰ã€çµæœï¼‰
- æŒ¯ã‚Šè¿”ã‚Šæ–‡æ›¸ã«ã‚ˆã‚‹åçœã¨æ”¹å–„ï¼ˆPhase B, Eï¼‰
- è¦–è¦šåŒ–ã«ã‚ˆã‚‹ç†è§£ä¿ƒé€²

---

## ğŸ“š ä¸»è¦ãªæˆæœç‰©

| ãƒ•ã‚¡ã‚¤ãƒ« | å†…å®¹ |
|---|---|
| [analysis_report.md](https://github.com/Sekine53629/hokkaido-influenza-prediction/blob/master/docs/analysis_report.md) | ğŸ“Š å®Œå…¨åˆ†æãƒ¬ãƒãƒ¼ãƒˆï¼ˆPhase A-Eçµ±åˆã€92ãƒšãƒ¼ã‚¸ï¼‰ |
| [mediation_analysis_results.csv](https://github.com/Sekine53629/hokkaido-influenza-prediction/blob/master/outputs/tables/mediation_analysis_results.csv) | åª’ä»‹åˆ†æã®çµ±è¨ˆçµæœ |
| [outputs/figures/](https://github.com/Sekine53629/hokkaido-influenza-prediction/tree/master/outputs/figures) | å…¨ã‚°ãƒ©ãƒ•ãƒ»å¯è¦–åŒ–ï¼ˆ24ç‚¹ï¼‰ |

---

## ğŸ“– å‚è€ƒæ–‡çŒ®

- Baron, R. M., & Kenny, D. A. (1986). The moderator-mediator variable distinction in social psychological research. *Journal of Personality and Social Psychology*, 51(6), 1173.
- åšç”ŸåŠ´åƒçœ COVID-19ã‚ªãƒ¼ãƒ—ãƒ³ãƒ‡ãƒ¼ã‚¿
- Google Trends
- åŒ—æµ·é“æ„ŸæŸ“ç—‡æƒ…å ±ã‚»ãƒ³ã‚¿ãƒ¼

---

## ğŸ”— ãƒªãƒ³ã‚¯

- **GitHubãƒªãƒã‚¸ãƒˆãƒª**: https://github.com/Sekine53629/hokkaido-influenza-prediction
- **å®Œå…¨ç‰ˆJupyter Notebook**: [09_mediation_analysis_dining.ipynb](https://github.com/Sekine53629/hokkaido-influenza-prediction/blob/master/notebooks/09_mediation_analysis_dining.ipynb)
- **æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯è©³ç´°**: [TECH_STACK.md](https://github.com/Sekine53629/hokkaido-influenza-prediction/blob/master/docs/TECH_STACK.md)

---

**æœ€çµ‚æ›´æ–°**: 2025å¹´12æœˆ2æ—¥
**åŸ·ç­†è€…**: åŒ—æµ·é“ã®è–¬å‰¤å¸«ãƒ»ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚¨ãƒ³ãƒ†ã‚£ã‚¹ãƒˆ
